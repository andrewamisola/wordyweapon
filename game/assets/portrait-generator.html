<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordy Weapon Portrait Generator</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #1a1a2e;
            color: #eee;
            padding: 20px;
            min-height: 100vh;
        }
        h1 { text-align: center; margin-bottom: 10px; color: #f4d03f; }
        .subtitle { text-align: center; color: #888; margin-bottom: 30px; }
        .controls { text-align: center; margin-bottom: 30px; }
        button {
            padding: 12px 24px;
            font-size: 16px;
            background: linear-gradient(135deg, #22543d, #1a3328);
            color: #fff;
            border: 2px solid #4ade8055;
            border-radius: 8px;
            cursor: pointer;
            margin: 0 10px;
        }
        button:hover { background: linear-gradient(135deg, #2d6a4f, #1e4030); }
        .section { margin-bottom: 40px; }
        .section-title {
            font-size: 18px;
            color: #f4d03f;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #333;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
        }
        .portrait-card {
            background: #252540;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
        }
        .portrait-card h3 { font-size: 14px; margin-bottom: 10px; color: #ccc; }
        .portrait-frame {
            width: 120px;
            height: 120px;
            margin: 0 auto 10px;
            border-radius: 50%;
            overflow: hidden;
            border: 3px solid #444;
        }
        .portrait-frame svg { width: 100%; height: 100%; }
        .portrait-frame.hero { border-color: #4ade80; }
        .portrait-frame.enemy { border-color: #f87171; }
        .portrait-frame.boss { border-color: #a855f7; }
        .download-link {
            display: inline-block;
            padding: 6px 12px;
            font-size: 11px;
            background: #374151;
            color: #fff;
            text-decoration: none;
            border-radius: 4px;
            margin-top: 8px;
        }
        .download-link:hover { background: #4b5563; }
        canvas { display: none; }
    </style>
</head>
<body>
    <h1>Wordy Weapon Portrait Generator</h1>
    <p class="subtitle">Abstract shapeism portraits for all characters</p>

    <div class="controls">
        <button onclick="generateAllPNGs()">Generate All PNGs</button>
        <button onclick="downloadAll()">Download All as ZIP</button>
    </div>

    <div class="section">
        <div class="section-title">Heroes (6)</div>
        <div class="grid" id="heroes-grid"></div>
    </div>

    <div class="section">
        <div class="section-title">Enemies (5)</div>
        <div class="grid" id="enemies-grid"></div>
    </div>

    <div class="section">
        <div class="section-title">Chapter Bosses (5)</div>
        <div class="grid" id="bosses-grid"></div>
    </div>

    <canvas id="render-canvas" width="240" height="240"></canvas>

    <script>
    // ============================================
    // PORTRAIT DEFINITIONS
    // ============================================

    const PORTRAITS = {
        // === HEROES ===
        graham_moor: {
            name: "Graham Moor",
            type: "hero",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-graham">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-graham"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#2a2520"/>
                <g clip-path="url(#circle-graham)" filter="url(#grain-graham)">
                    <!-- Background: earthy gradient -->
                    <rect width="120" height="120" fill="#3d3428"/>

                    <!-- Body: Steel armor block -->
                    <path d="M25,120 L35,85 L85,82 L95,120 Z" fill="#5c6670"/>
                    <path d="M40,120 L45,88 L75,86 L80,120 Z" fill="#4a5259"/>

                    <!-- Shoulder plates -->
                    <rect x="20" y="78" width="25" height="15" rx="3" fill="#6b7580" transform="rotate(-10 32 85)"/>
                    <rect x="75" y="78" width="25" height="15" rx="3" fill="#6b7580" transform="rotate(10 88 85)"/>

                    <!-- Head: Angular, solid -->
                    <path d="M40,35 L50,25 L70,25 L80,35 L82,55 L78,75 L68,82 L52,82 L42,75 L38,55 Z" fill="#c4a882"/>

                    <!-- Hair: Short, cropped brown -->
                    <path d="M38,45 L42,22 L58,15 L75,18 L82,35 L80,45 L75,35 L60,30 L45,32 Z" fill="#4a3c2a"/>

                    <!-- Jaw shadow -->
                    <path d="M45,70 L55,78 L65,78 L75,70 L72,75 L60,80 L48,75 Z" fill="#a08665" opacity="0.6"/>

                    <!-- Eyes: Stern, determined -->
                    <ellipse cx="48" cy="50" rx="5" ry="3" fill="#2a2520"/>
                    <ellipse cx="72" cy="50" rx="5" ry="3" fill="#2a2520"/>

                    <!-- Scar accent -->
                    <path d="M75,40 L78,55" stroke="#8a7560" stroke-width="2" stroke-linecap="round" opacity="0.5"/>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#5c6670" stroke-width="3"/>
            </svg>`
        },

        quivera: {
            name: "Quivera",
            type: "hero",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-quivera">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-quivera"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#1a2030"/>
                <g clip-path="url(#circle-quivera)" filter="url(#grain-quivera)">
                    <!-- Background: Electric atmosphere -->
                    <rect width="120" height="120" fill="#1e2a3a"/>
                    <circle cx="90" cy="25" r="30" fill="#ffdd44" opacity="0.15"/>

                    <!-- Body: Light leather armor -->
                    <path d="M30,120 L40,88 L80,88 L90,120 Z" fill="#4a6050"/>
                    <path d="M50,95 L52,120 L68,120 L70,95 Z" fill="#3d5040"/>

                    <!-- Bow hint behind -->
                    <path d="M15,50 Q5,60 15,90" stroke="#8b7355" stroke-width="3" fill="none"/>

                    <!-- Head: Dynamic, angular -->
                    <path d="M42,40 Q38,55 42,72 Q50,82 60,84 Q70,82 78,72 Q82,55 78,40 Q70,30 60,28 Q50,30 42,40" fill="#d4a574"/>

                    <!-- Hair: Wild, electric yellow -->
                    <path d="M35,50 L40,20 L55,12 L70,15 L82,25 L88,45 L85,40 L78,25 L65,20 L50,22 L42,30 Z" fill="#e8c840"/>
                    <path d="M85,40 L95,35 L92,50" fill="#d4b830" opacity="0.8"/>
                    <path d="M35,50 L25,45 L30,58" fill="#d4b830" opacity="0.8"/>

                    <!-- Lightning streak in hair -->
                    <path d="M70,18 L72,28 L68,32 L74,45" stroke="#fff4a0" stroke-width="2" fill="none" opacity="0.7"/>

                    <!-- Eyes: Sharp, focused -->
                    <path d="M45,52 L52,50 L54,54 L47,55 Z" fill="#2a2520"/>
                    <path d="M66,54 L68,50 L75,52 L73,55 Z" fill="#2a2520"/>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#e8c840" stroke-width="3"/>
            </svg>`
        },

        belle_lettres: {
            name: "Belle Lettres",
            type: "hero",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-belle">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-belle"><circle cx="60" cy="60" r="56"/></clipPath>
                    <linearGradient id="fire-belle" x1="0%" y1="100%" x2="100%" y2="0%">
                        <stop offset="0%" stop-color="#ff4422"/>
                        <stop offset="100%" stop-color="#ff8844"/>
                    </linearGradient>
                </defs>
                <rect width="120" height="120" fill="#2a1515"/>
                <g clip-path="url(#circle-belle)" filter="url(#grain-belle)">
                    <!-- Background: Warm magical glow -->
                    <rect width="120" height="120" fill="#3a2020"/>
                    <circle cx="60" cy="40" r="45" fill="#ff6633" opacity="0.1"/>

                    <!-- Flowing robes -->
                    <path d="M25,120 Q30,90 45,85 Q60,82 75,85 Q90,90 95,120 Z" fill="#8b2942"/>
                    <path d="M35,120 Q40,95 55,90 Q65,88 80,92 L85,120 Z" fill="#6b1f32"/>

                    <!-- Magical flames around -->
                    <ellipse cx="25" cy="70" rx="8" ry="15" fill="#ff6633" opacity="0.3"/>
                    <ellipse cx="95" cy="65" rx="8" ry="18" fill="#ff6633" opacity="0.3"/>

                    <!-- Head: Elegant, curved -->
                    <ellipse cx="60" cy="52" rx="22" ry="28" fill="#e8c4a8"/>

                    <!-- Hair: Flowing red-orange -->
                    <path d="M35,55 Q32,35 45,22 Q60,15 80,25 Q92,40 88,60 L82,50 Q78,35 65,30 Q50,28 42,40 Z" fill="#cc4422"/>
                    <path d="M88,60 Q95,70 92,85 L85,75 Q88,65 85,55" fill="#aa3318" opacity="0.8"/>
                    <path d="M35,55 Q28,65 30,80 L38,70 Q34,60 38,50" fill="#aa3318" opacity="0.8"/>

                    <!-- Ethereal wisps -->
                    <circle cx="42" cy="30" r="5" fill="#ffaa55" opacity="0.4"/>
                    <circle cx="80" cy="35" r="4" fill="#ffaa55" opacity="0.3"/>

                    <!-- Eyes: Knowing, mystical -->
                    <ellipse cx="50" cy="52" rx="4" ry="3" fill="#2a1515"/>
                    <ellipse cx="70" cy="52" rx="4" ry="3" fill="#2a1515"/>
                    <circle cx="51" cy="51" r="1" fill="#ff8844" opacity="0.6"/>
                    <circle cx="71" cy="51" r="1" fill="#ff8844" opacity="0.6"/>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#cc4422" stroke-width="3"/>
            </svg>`
        },

        alexandria_constanza: {
            name: "Alexandria Constanza",
            type: "hero",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-alex">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-alex"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#f4f1ea"/>
                <g clip-path="url(#circle-alex)" filter="url(#grain-alex)">
                    <!-- Background: Parchment -->
                    <rect width="120" height="120" fill="#e8e4d0"/>
                    <path d="M10,50 Q40,40 60,10 Q100,40 110,60 L110,120 L10,120 Z" fill="#ddd8c0"/>

                    <!-- Hair: Golden cloud -->
                    <path d="M20,30 C20,10 90,5 95,45 C100,80 90,110 85,115 L75,115 L75,60 Q70,40 55,40" fill="#dcb030" opacity="0.9"/>
                    <path d="M15,60 Q10,90 25,110 L60,110 L55,60" fill="#9e7e22" opacity="0.8"/>

                    <!-- Body: Steel armor -->
                    <path d="M30,120 L35,100 L85,97 L90,120 Z" fill="#607d8b"/>
                    <path d="M55,120 L60,97 L75,97 L70,120 Z" fill="#455a64" opacity="0.6"/>

                    <!-- Face: Organic shape -->
                    <path d="M38,30 C38,30 80,25 75,65 C72,85 55,90 50,90 C35,90 32,70 38,30" fill="#d49e78"/>

                    <!-- Neck shadow -->
                    <path d="M47,80 L52,100 L65,97" fill="#8c5e4a" opacity="0.5"/>

                    <!-- Golden accent -->
                    <circle cx="80" cy="40" r="8" fill="#e6c87c" opacity="0.5"/>

                    <!-- Eyes: Wise -->
                    <ellipse cx="48" cy="55" rx="4" ry="3" fill="#2c1e1a"/>
                    <ellipse cx="66" cy="54" rx="4" ry="3" fill="#2c1e1a"/>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#dcb030" stroke-width="3"/>
            </svg>`
        },

        caesura: {
            name: "Caesura",
            type: "hero",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-caesura">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-caesura"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#0a0a12"/>
                <g clip-path="url(#circle-caesura)" filter="url(#grain-caesura)">
                    <!-- Background: Deep void -->
                    <rect width="120" height="120" fill="#12101a"/>

                    <!-- Fragmented shadow shapes -->
                    <polygon points="0,0 40,0 25,40 0,30" fill="#1a1525" opacity="0.8"/>
                    <polygon points="120,0 80,0 95,50 120,40" fill="#1a1525" opacity="0.8"/>
                    <polygon points="0,120 30,120 20,80 0,90" fill="#1a1525" opacity="0.6"/>

                    <!-- Body: Dark leather, fragmented -->
                    <path d="M35,120 L42,90 L55,88 L50,120 Z" fill="#2a2535"/>
                    <path d="M70,120 L65,88 L78,90 L85,120 Z" fill="#2a2535"/>
                    <path d="M50,120 L55,92 L65,92 L70,120 Z" fill="#1f1a28"/>

                    <!-- Hood/Cloak -->
                    <path d="M30,70 Q25,45 40,30 Q60,20 80,30 Q95,45 90,70 L85,60 Q82,40 60,35 Q38,40 35,60 Z" fill="#252030"/>

                    <!-- Face: Partially hidden, pale -->
                    <path d="M42,45 Q40,60 45,75 Q55,85 65,82 Q75,75 78,60 Q80,45 72,38 Q60,32 48,38 Q42,42 42,45" fill="#b8a8c0"/>

                    <!-- Shadow across face -->
                    <path d="M42,50 L55,48 L52,65 L42,60 Z" fill="#1a1525" opacity="0.4"/>

                    <!-- One visible eye: Piercing purple -->
                    <ellipse cx="68" cy="55" rx="5" ry="4" fill="#1a1020"/>
                    <circle cx="69" cy="54" r="2" fill="#9966cc" opacity="0.8"/>

                    <!-- Other eye hidden in shadow -->
                    <ellipse cx="50" cy="56" rx="4" ry="3" fill="#1a1525" opacity="0.6"/>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#9966cc" stroke-width="3"/>
            </svg>`
        },

        reed: {
            name: "Reed",
            type: "hero",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-reed">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-reed"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#1a2a20"/>
                <g clip-path="url(#circle-reed)" filter="url(#grain-reed)">
                    <!-- Background: Forest atmosphere -->
                    <rect width="120" height="120" fill="#1e3328"/>
                    <ellipse cx="60" cy="110" rx="50" ry="20" fill="#152820" opacity="0.5"/>

                    <!-- Organic vine/root shapes -->
                    <path d="M10,80 Q20,60 15,40 Q20,55 30,50" stroke="#3d6b4a" stroke-width="4" fill="none" opacity="0.5"/>
                    <path d="M110,75 Q100,55 105,35 Q100,50 90,48" stroke="#3d6b4a" stroke-width="4" fill="none" opacity="0.5"/>

                    <!-- Body: Natural robes -->
                    <path d="M30,120 Q35,95 50,90 Q60,88 70,90 Q85,95 90,120 Z" fill="#4a6b50"/>
                    <path d="M40,120 Q45,100 60,96 Q75,100 80,120 Z" fill="#3d5840"/>

                    <!-- Head: Round, gentle -->
                    <ellipse cx="60" cy="55" rx="24" ry="28" fill="#8fbc8f"/>

                    <!-- Mossy hair/covering -->
                    <path d="M35,50 Q30,35 42,22 Q60,12 78,22 Q90,35 85,50 Q80,40 60,35 Q40,40 35,50" fill="#5a8a5a"/>
                    <ellipse cx="45" cy="28" rx="6" ry="4" fill="#6a9a6a" opacity="0.7"/>
                    <ellipse cx="72" cy="30" rx="5" ry="4" fill="#6a9a6a" opacity="0.7"/>

                    <!-- Water droplet accents -->
                    <ellipse cx="85" cy="45" rx="4" ry="6" fill="#7ec8e3" opacity="0.4"/>
                    <ellipse cx="32" cy="50" rx="3" ry="5" fill="#7ec8e3" opacity="0.3"/>

                    <!-- Eyes: Calm, nature -->
                    <ellipse cx="50" cy="55" rx="5" ry="4" fill="#1a2a20"/>
                    <ellipse cx="70" cy="55" rx="5" ry="4" fill="#1a2a20"/>
                    <circle cx="51" cy="54" r="1.5" fill="#7ec8e3" opacity="0.5"/>
                    <circle cx="71" cy="54" r="1.5" fill="#7ec8e3" opacity="0.5"/>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#5a8a5a" stroke-width="3"/>
            </svg>`
        },

        // === ENEMIES ===
        vowel_goblin: {
            name: "Vowel Goblin",
            type: "enemy",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-vg">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-vg"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#1a2010"/>
                <g clip-path="url(#circle-vg)" filter="url(#grain-vg)">
                    <rect width="120" height="120" fill="#2a3518"/>

                    <!-- Body: Hunched -->
                    <ellipse cx="60" cy="105" rx="30" ry="20" fill="#4a5a30"/>

                    <!-- Head: Pointy, goblin-like -->
                    <path d="M35,50 Q30,70 40,85 Q55,95 70,88 Q85,75 82,50 Q78,30 60,25 Q42,28 35,50" fill="#7a9a50"/>

                    <!-- Ears: Large, pointed -->
                    <path d="M30,55 L15,35 L28,50" fill="#6a8a45"/>
                    <path d="M90,55 L105,35 L92,50" fill="#6a8a45"/>

                    <!-- Beady eyes -->
                    <circle cx="48" cy="55" r="8" fill="#2a3010"/>
                    <circle cx="72" cy="55" r="8" fill="#2a3010"/>
                    <circle cx="50" cy="53" r="3" fill="#ffcc00"/>
                    <circle cx="74" cy="53" r="3" fill="#ffcc00"/>

                    <!-- Crooked grin -->
                    <path d="M45,72 Q60,82 75,70" stroke="#2a3010" stroke-width="2" fill="none"/>

                    <!-- Vowel letters floating -->
                    <text x="22" y="30" fill="#aabb66" font-size="12" opacity="0.6">A</text>
                    <text x="92" y="40" fill="#aabb66" font-size="10" opacity="0.5">E</text>
                    <text x="55" y="18" fill="#aabb66" font-size="11" opacity="0.5">I</text>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#7a9a50" stroke-width="3"/>
            </svg>`
        },

        idiomatic_undead: {
            name: "Idiomatic Undead",
            type: "enemy",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-iu">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-iu"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#1a1520"/>
                <g clip-path="url(#circle-iu)" filter="url(#grain-iu)">
                    <rect width="120" height="120" fill="#252030"/>

                    <!-- Tattered robe -->
                    <path d="M25,120 L35,80 L60,75 L85,80 L95,120 Z" fill="#3a3545"/>
                    <path d="M35,120 L40,85 L80,85 L85,120" fill="#2a2535" opacity="0.7"/>

                    <!-- Skull-like head -->
                    <ellipse cx="60" cy="50" rx="25" ry="28" fill="#c8c0d0"/>

                    <!-- Hollow eyes -->
                    <ellipse cx="48" cy="48" rx="8" ry="10" fill="#1a1520"/>
                    <ellipse cx="72" cy="48" rx="8" ry="10" fill="#1a1520"/>
                    <circle cx="48" cy="50" r="3" fill="#9966cc" opacity="0.6"/>
                    <circle cx="72" cy="50" r="3" fill="#9966cc" opacity="0.6"/>

                    <!-- Nose cavity -->
                    <path d="M58,55 L60,65 L62,55" fill="#8a8090"/>

                    <!-- Jaw -->
                    <path d="M42,68 L50,75 L70,75 L78,68" stroke="#a8a0b0" stroke-width="2" fill="none"/>

                    <!-- Cracks -->
                    <path d="M45,35 L48,45 L44,50" stroke="#8a8090" stroke-width="1" fill="none" opacity="0.5"/>
                    <path d="M78,40 L74,48" stroke="#8a8090" stroke-width="1" fill="none" opacity="0.5"/>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#9966cc" stroke-width="3"/>
            </svg>`
        },

        webster_spiderling: {
            name: "Webster Spiderling",
            type: "enemy",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-ws">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-ws"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#1a1015"/>
                <g clip-path="url(#circle-ws)" filter="url(#grain-ws)">
                    <rect width="120" height="120" fill="#2a1822"/>

                    <!-- Web pattern -->
                    <path d="M60,10 L60,110" stroke="#555" stroke-width="1" opacity="0.3"/>
                    <path d="M10,60 L110,60" stroke="#555" stroke-width="1" opacity="0.3"/>
                    <path d="M20,20 L100,100" stroke="#555" stroke-width="1" opacity="0.3"/>
                    <path d="M100,20 L20,100" stroke="#555" stroke-width="1" opacity="0.3"/>

                    <!-- Legs -->
                    <path d="M35,55 L10,30" stroke="#4a2030" stroke-width="3"/>
                    <path d="M35,60 L8,55" stroke="#4a2030" stroke-width="3"/>
                    <path d="M35,65 L10,85" stroke="#4a2030" stroke-width="3"/>
                    <path d="M35,70 L15,100" stroke="#4a2030" stroke-width="3"/>
                    <path d="M85,55 L110,30" stroke="#4a2030" stroke-width="3"/>
                    <path d="M85,60 L112,55" stroke="#4a2030" stroke-width="3"/>
                    <path d="M85,65 L110,85" stroke="#4a2030" stroke-width="3"/>
                    <path d="M85,70 L105,100" stroke="#4a2030" stroke-width="3"/>

                    <!-- Body -->
                    <ellipse cx="60" cy="75" rx="18" ry="22" fill="#5a2838"/>

                    <!-- Head -->
                    <ellipse cx="60" cy="48" rx="22" ry="20" fill="#6a3040"/>

                    <!-- Multiple eyes -->
                    <circle cx="50" cy="42" r="5" fill="#1a1015"/>
                    <circle cx="70" cy="42" r="5" fill="#1a1015"/>
                    <circle cx="45" cy="50" r="3" fill="#1a1015"/>
                    <circle cx="75" cy="50" r="3" fill="#1a1015"/>
                    <circle cx="52" cy="55" r="2" fill="#1a1015"/>
                    <circle cx="68" cy="55" r="2" fill="#1a1015"/>
                    <!-- Eye glints -->
                    <circle cx="51" cy="41" r="2" fill="#cc4444"/>
                    <circle cx="71" cy="41" r="2" fill="#cc4444"/>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#6a3040" stroke-width="3"/>
            </svg>`
        },

        ghost: {
            name: "Ghost",
            type: "enemy",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-ghost">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-ghost"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#151825"/>
                <g clip-path="url(#circle-ghost)" filter="url(#grain-ghost)">
                    <rect width="120" height="120" fill="#1a2030"/>

                    <!-- Ethereal glow -->
                    <ellipse cx="60" cy="55" rx="40" ry="45" fill="#4488aa" opacity="0.15"/>

                    <!-- Ghost body: Wispy, fading -->
                    <path d="M35,30 Q30,50 32,75 Q35,95 40,110 L50,100 L55,110 L60,95 L65,110 L70,100 L80,110 Q85,95 88,75 Q90,50 85,30 Q75,15 60,12 Q45,15 35,30"
                          fill="#d0e8f0" opacity="0.7"/>

                    <!-- Inner wisps -->
                    <path d="M42,35 Q40,55 45,80 L50,75 Q48,55 50,40" fill="#e8f4f8" opacity="0.5"/>
                    <path d="M78,35 Q80,55 75,80 L70,75 Q72,55 70,40" fill="#e8f4f8" opacity="0.5"/>

                    <!-- Hollow eyes -->
                    <ellipse cx="48" cy="45" rx="8" ry="10" fill="#1a2030"/>
                    <ellipse cx="72" cy="45" rx="8" ry="10" fill="#1a2030"/>

                    <!-- Mouth: O shape -->
                    <ellipse cx="60" cy="68" rx="8" ry="10" fill="#1a2030"/>

                    <!-- "Dord" text floating -->
                    <text x="70" y="25" fill="#88aacc" font-size="9" font-style="italic" opacity="0.5">dord...</text>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#88aacc" stroke-width="3"/>
            </svg>`
        },

        vulgar_vandal: {
            name: "Vulgar Vandal",
            type: "enemy",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-vv">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-vv"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#1a1210"/>
                <g clip-path="url(#circle-vv)" filter="url(#grain-vv)">
                    <rect width="120" height="120" fill="#2a1815"/>

                    <!-- Graffiti marks in background -->
                    <text x="15" y="25" fill="#aa3333" font-size="14" font-weight="bold" opacity="0.4">@#$!</text>
                    <text x="80" y="100" fill="#aa3333" font-size="12" font-weight="bold" opacity="0.3">%&*!</text>

                    <!-- Body: Rough, aggressive -->
                    <path d="M30,120 L40,90 L80,90 L90,120 Z" fill="#3a2520"/>

                    <!-- Head: Angular, menacing -->
                    <path d="M38,45 L42,25 L78,25 L82,45 L85,70 L78,85 L42,85 L35,70 Z" fill="#8a5a4a"/>

                    <!-- Mohawk/spiky hair -->
                    <path d="M50,25 L52,8 L55,22 L58,5 L62,22 L65,8 L68,25" fill="#cc3333"/>

                    <!-- Angry eyes -->
                    <path d="M42,50 L55,55 L55,60 L42,58 Z" fill="#1a1210"/>
                    <path d="M78,50 L65,55 L65,60 L78,58 Z" fill="#1a1210"/>
                    <circle cx="50" cy="56" r="2" fill="#ffcc00"/>
                    <circle cx="70" cy="56" r="2" fill="#ffcc00"/>

                    <!-- Snarling mouth -->
                    <path d="M48,72 L52,68 L58,72 L62,68 L68,72 L72,75 L68,78 L52,78 L48,75 Z" fill="#2a1815"/>

                    <!-- Spray can -->
                    <rect x="88" y="75" width="8" height="20" rx="2" fill="#555"/>
                    <circle cx="92" cy="72" r="5" fill="#cc3333" opacity="0.5"/>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#cc3333" stroke-width="3"/>
            </svg>`
        },

        // === CHAPTER BOSSES ===
        cinna_antony: {
            name: "Cinna & Antony",
            type: "boss",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-ca">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-ca"><circle cx="60" cy="60" r="56"/></clipPath>
                    <clipPath id="left-half"><rect x="0" y="0" width="60" height="120"/></clipPath>
                    <clipPath id="right-half"><rect x="60" y="0" width="60" height="120"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#1a1520"/>
                <g clip-path="url(#circle-ca)" filter="url(#grain-ca)">
                    <!-- Left half: Cinna (cool, blue) -->
                    <g clip-path="url(#left-half)">
                        <rect width="60" height="120" fill="#1a2535"/>
                        <path d="M10,120 L20,85 L60,85 L60,120 Z" fill="#2a4050"/>
                        <path d="M20,30 Q15,50 20,70 Q30,85 60,85 L60,25 Q40,20 20,30" fill="#88aabb"/>
                        <ellipse cx="40" cy="50" rx="6" ry="5" fill="#1a2030"/>
                        <path d="M35,70 Q45,75 55,68" stroke="#1a2030" stroke-width="2" fill="none"/>
                    </g>

                    <!-- Right half: Antony (warm, red) -->
                    <g clip-path="url(#right-half)">
                        <rect x="60" width="60" height="120" fill="#351a20"/>
                        <path d="M60,120 L60,85 L100,85 L110,120 Z" fill="#502a30"/>
                        <path d="M60,85 Q90,85 100,70 Q105,50 100,30 Q80,20 60,25 L60,85" fill="#bb8888"/>
                        <ellipse cx="80" cy="50" rx="6" ry="5" fill="#201a1a"/>
                        <path d="M65,68 Q75,75 85,70" stroke="#201a1a" stroke-width="2" fill="none"/>
                    </g>

                    <!-- Dividing line -->
                    <line x1="60" y1="4" x2="60" y2="116" stroke="#fff" stroke-width="2" opacity="0.3"/>

                    <!-- Yin-yang hint -->
                    <circle cx="60" cy="60" r="8" fill="none" stroke="#888" stroke-width="1" opacity="0.4"/>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#a855f7" stroke-width="3"/>
            </svg>`
        },

        red_aktins: {
            name: "Red Aktins",
            type: "boss",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-ra">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-ra"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#1a1010"/>
                <g clip-path="url(#circle-ra)" filter="url(#grain-ra)">
                    <rect width="120" height="120" fill="#2a1515"/>

                    <!-- Body: Bureaucratic suit -->
                    <path d="M30,120 L40,85 L80,85 L90,120 Z" fill="#2a2020"/>
                    <path d="M55,85 L60,120 L65,85" fill="#cc2222"/>

                    <!-- Head -->
                    <ellipse cx="60" cy="50" rx="25" ry="28" fill="#c0a090"/>

                    <!-- Glasses -->
                    <circle cx="48" cy="48" r="10" fill="none" stroke="#222" stroke-width="2"/>
                    <circle cx="72" cy="48" r="10" fill="none" stroke="#222" stroke-width="2"/>
                    <line x1="58" y1="48" x2="62" y2="48" stroke="#222" stroke-width="2"/>

                    <!-- Eyes behind glasses -->
                    <ellipse cx="48" cy="48" rx="4" ry="3" fill="#1a1010"/>
                    <ellipse cx="72" cy="48" rx="4" ry="3" fill="#1a1010"/>

                    <!-- Stern mouth -->
                    <line x1="50" y1="68" x2="70" y2="68" stroke="#5a4040" stroke-width="2"/>

                    <!-- REDACTION BARS -->
                    <rect x="8" y="25" width="45" height="8" fill="#111" rx="1"/>
                    <rect x="70" y="70" width="40" height="8" fill="#111" rx="1"/>
                    <rect x="20" y="100" width="35" height="6" fill="#111" rx="1"/>

                    <!-- Red pen -->
                    <rect x="90" y="55" width="4" height="25" fill="#cc2222" transform="rotate(30 92 67)"/>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#cc2222" stroke-width="3"/>
            </svg>`
        },

        plague_doctor: {
            name: "The Plague Doctor",
            type: "boss",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-pd">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-pd"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#101510"/>
                <g clip-path="url(#circle-pd)" filter="url(#grain-pd)">
                    <rect width="120" height="120" fill="#1a251a"/>

                    <!-- Cloak -->
                    <path d="M20,120 L30,70 L90,70 L100,120 Z" fill="#1a1a1a"/>
                    <path d="M30,70 Q25,50 35,35 L85,35 Q95,50 90,70 Z" fill="#222"/>

                    <!-- Wide-brimmed hat -->
                    <ellipse cx="60" cy="30" rx="40" ry="10" fill="#1a1a1a"/>
                    <path d="M35,30 Q40,10 60,8 Q80,10 85,30" fill="#222"/>

                    <!-- Plague mask (beak) -->
                    <path d="M45,40 Q40,55 45,65 L60,85 L75,65 Q80,55 75,40 Q68,35 60,35 Q52,35 45,40" fill="#3a3a2a"/>

                    <!-- Beak -->
                    <path d="M55,55 L60,85 L65,55 Q62,50 60,50 Q58,50 55,55" fill="#4a4a3a"/>

                    <!-- Goggle eyes -->
                    <circle cx="50" cy="48" r="8" fill="#1a1a1a" stroke="#555" stroke-width="2"/>
                    <circle cx="70" cy="48" r="8" fill="#1a1a1a" stroke="#555" stroke-width="2"/>
                    <circle cx="50" cy="48" r="3" fill="#66aa66" opacity="0.6"/>
                    <circle cx="70" cy="48" r="3" fill="#66aa66" opacity="0.6"/>

                    <!-- Clipboard -->
                    <rect x="85" y="80" width="15" height="20" fill="#8b7355" rx="1"/>
                    <line x1="88" y1="85" x2="97" y2="85" stroke="#222" stroke-width="1"/>
                    <line x1="88" y1="90" x2="95" y2="90" stroke="#222" stroke-width="1"/>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#66aa66" stroke-width="3"/>
            </svg>`
        },

        oxy: {
            name: "Oxy",
            type: "boss",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-oxy">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-oxy"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#1a1a1a"/>
                <g clip-path="url(#circle-oxy)" filter="url(#grain-oxy)">
                    <!-- Split background: Black and White -->
                    <rect x="0" y="0" width="60" height="120" fill="#f0f0f0"/>
                    <rect x="60" y="0" width="60" height="120" fill="#101010"/>

                    <!-- Body: Inverted colors -->
                    <path d="M30,120 L40,90 L60,88 L60,120 Z" fill="#222"/>
                    <path d="M60,120 L60,88 L80,90 L90,120 Z" fill="#ddd"/>

                    <!-- Head: Split face -->
                    <path d="M35,35 Q30,55 35,75 Q45,90 60,90 L60,25 Q45,25 35,35" fill="#222"/>
                    <path d="M60,90 Q75,90 85,75 Q90,55 85,35 Q75,25 60,25 L60,90" fill="#ddd"/>

                    <!-- Eyes: Opposite colors -->
                    <circle cx="48" cy="50" r="6" fill="#fff"/>
                    <circle cx="48" cy="50" r="3" fill="#222"/>
                    <circle cx="72" cy="50" r="6" fill="#000"/>
                    <circle cx="72" cy="50" r="3" fill="#ddd"/>

                    <!-- Mouth: Split expression -->
                    <path d="M45,70 Q52,65 58,70" stroke="#fff" stroke-width="2" fill="none"/>
                    <path d="M62,70 Q68,75 75,70" stroke="#000" stroke-width="2" fill="none"/>

                    <!-- Clash symbols -->
                    <text x="15" y="25" fill="#333" font-size="16" font-weight="bold">+</text>
                    <text x="95" y="25" fill="#ccc" font-size="16" font-weight="bold">-</text>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#888" stroke-width="3"/>
            </svg>`
        },

        dotdotdot: {
            name: "Dotdotdot",
            type: "boss",
            svg: `<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <filter id="grain-ddd">
                        <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
                        <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.08 0"/>
                        <feBlend mode="multiply" in2="SourceGraphic"/>
                    </filter>
                    <clipPath id="circle-ddd"><circle cx="60" cy="60" r="56"/></clipPath>
                </defs>
                <rect width="120" height="120" fill="#151520"/>
                <g clip-path="url(#circle-ddd)" filter="url(#grain-ddd)">
                    <rect width="120" height="120" fill="#1a1a25"/>

                    <!-- Fading body (incomplete) -->
                    <path d="M35,120 L42,95 L78,95 L85,120 Z" fill="#2a2a35" opacity="0.7"/>
                    <path d="M45,95 L48,85 L72,85 L75,95 Z" fill="#2a2a35" opacity="0.4"/>

                    <!-- Head: Fading/incomplete -->
                    <ellipse cx="60" cy="50" rx="28" ry="32" fill="#6a6a80" opacity="0.8"/>
                    <ellipse cx="60" cy="50" rx="24" ry="28" fill="#7a7a90" opacity="0.6"/>
                    <ellipse cx="60" cy="50" rx="20" ry="24" fill="#8a8aa0"/>

                    <!-- Eyes: Trailing off -->
                    <ellipse cx="50" cy="48" rx="5" ry="4" fill="#151520"/>
                    <ellipse cx="70" cy="48" rx="5" ry="4" fill="#151520" opacity="0.6"/>

                    <!-- Mouth: Incomplete sentence -->
                    <path d="M48,65 Q55,70 62,65" stroke="#151520" stroke-width="2" fill="none"/>
                    <path d="M65,65 Q68,67 71,65" stroke="#151520" stroke-width="2" fill="none" opacity="0.5"/>

                    <!-- The signature dots... -->
                    <circle cx="40" cy="85" r="4" fill="#aaaacc"/>
                    <circle cx="55" cy="88" r="4" fill="#8888aa" opacity="0.7"/>
                    <circle cx="70" cy="91" r="4" fill="#6666888" opacity="0.4"/>

                    <!-- Fading text -->
                    <text x="75" y="30" fill="#6666888" font-size="10" font-style="italic" opacity="0.4">but...</text>
                </g>
                <circle cx="60" cy="60" r="56" fill="none" stroke="#8888aa" stroke-width="3"/>
            </svg>`
        }
    };

    // ============================================
    // RENDERING FUNCTIONS
    // ============================================

    function renderAllPortraits() {
        const heroesGrid = document.getElementById('heroes-grid');
        const enemiesGrid = document.getElementById('enemies-grid');
        const bossesGrid = document.getElementById('bosses-grid');

        Object.entries(PORTRAITS).forEach(([id, data]) => {
            const card = document.createElement('div');
            card.className = 'portrait-card';
            card.innerHTML = `
                <h3>${data.name}</h3>
                <div class="portrait-frame ${data.type}" id="frame-${id}">
                    ${data.svg}
                </div>
                <a class="download-link" id="dl-${id}" style="display:none">Download PNG</a>
            `;

            if (data.type === 'hero') heroesGrid.appendChild(card);
            else if (data.type === 'enemy') enemiesGrid.appendChild(card);
            else if (data.type === 'boss') bossesGrid.appendChild(card);
        });
    }

    async function generateAllPNGs() {
        const canvas = document.getElementById('render-canvas');
        const ctx = canvas.getContext('2d');

        for (const [id, data] of Object.entries(PORTRAITS)) {
            const svgString = data.svg;
            const img = new Image();
            const svgBlob = new Blob([svgString], {type: 'image/svg+xml;charset=utf-8'});
            const url = URL.createObjectURL(svgBlob);

            await new Promise((resolve) => {
                img.onload = () => {
                    ctx.clearRect(0, 0, 240, 240);
                    ctx.drawImage(img, 0, 0, 240, 240);

                    const pngUrl = canvas.toDataURL('image/png');
                    const dlLink = document.getElementById(`dl-${id}`);
                    dlLink.href = pngUrl;
                    dlLink.download = `${id}.png`;
                    dlLink.style.display = 'inline-block';

                    URL.revokeObjectURL(url);
                    resolve();
                };
                img.src = url;
            });
        }

        alert('All PNGs generated! Click individual download links or use "Download All"');
    }

    async function downloadAll() {
        // Generate PNGs first if not done
        await generateAllPNGs();

        // Trigger downloads (browser may block multiple, so space them out)
        const links = document.querySelectorAll('[id^="dl-"]');
        let delay = 0;
        links.forEach(link => {
            if (link.href && link.href.startsWith('data:')) {
                setTimeout(() => link.click(), delay);
                delay += 200;
            }
        });
    }

    // Initialize on load
    window.onload = renderAllPortraits;
    </script>
</body>
</html>
